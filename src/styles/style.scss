/* Здесь вы напишете основную часть стилей страницы.

Будьте внимательны! Для корректной работы скриптов на этом сайте нужно, чтобы в HTML некоторые классы были названы особым образом:
✦ theme-dark — класс тёмной темы
✦ theme-light — класс светлой темы
✦ like-icon — для svg-иконки анимированного сердца
✦ card__like-button — для кнопки Like рядом с иконкой
✦ card__icon-button — для кнопки, оборачивающей иконку
✦ card__icon-button — для кнопки, оборачивающей иконку
✦ is-liked — для обозначения состояния лайкнутой иконки в виде сердца
✦ button__text — для обозначения текстового элемента внутри кнопки

Кроме этого, не меняйте HTML переключателя тем. Его разметка также гарантирует работу своего скрипта.

*/

.page {
	align-items: center;
	margin: auto;
	padding-block: var(--page-inner-offset);
	color: var(--main-color);
	font-family: var(--regular-font);
	font-weight: var(--base-font-weight);
	min-inline-size: 375px;
	max-inline-size: 700px;

	@include flex-layout;
	// min-block-size: 100dvb;

}

.header {
	margin-block-end: var(--page-inner-offset);
	padding: clamp(5.278rem, 4.923vw + 4.252rem, 6.167rem) 14px 25px;
	text-align: center;

	@include block-base-styles;
}

.main {
	flex-grow: 1;
	margin-block-end: 50px;

	@include flex-layout(50px);
}

.theme-menu {

	&__list {
		display: inline-block;
	}

	&__item {
		width: min-content;
		font-weight: inherit;
		font-size: 14px;
		line-height: 1;
		transition: opacity var(--transition-value);
		
		&:not(:last-child) {
			margin-block-end: 20px;
		}

		&:has([disabled="true"])::marker {
			content: '▶';
			position: absolute;
			inset-inline-start: 0;
			inset-block-start: 0;

			@media (prefers-reduced-motion: no-preference) {
				& {
					animation: shaking var(--animation-duration) ease-in-out infinite alternate;
				}
			}
		}
		
		&:hover {
			opacity: .6;
		}

		&:active {
			opacity: .6;
		}

		&:has(:disabled) {
			opacity: .6;
			pointer-events: none;
		}
	}

	&__button {
		display: block;

		margin: 0;
    	padding: 0;
		color: inherit;
		font-family: inherit;
		font-size: 14px;
		line-height: 14px;
		background: transparent;
		border: none;

		@include button-base-styles;

		&:not(:disabled) {
			cursor: pointer;
		}
		
	}
}

.decorated-zone {
	background-repeat: no-repeat;
	background-position: center;
	background-size: cover;
	background-attachment: fixed;
	transition: var(--slow-animation-transition-value);

	@include decorated-zone-background(var(--repeating-gradient-color),
		var(--flat-gradient-light-color),
		var(--flat-gradient-dark-color),
	);
	
	&:has(.dialog[open]) {
		overflow: hidden;
	}
}

.card {
	@include block-base-styles;

	&_bottom-border {
		border-bottom: 2px solid currentColor;
	}

	&__title {
		padding: 3px 24px 3px 10px;
		font-weight: var(--bolder-font-weight);
		font-size: 18px;
		line-height: 21.78px;
	}

	&__text-block {
		padding: 25px;
		@include flex-layout(27px);

		&:last-child {
			gap: 25px;
		}
	}

	&__paragraph {
		font-size: 18px;
		line-height: 21px;
	}

	&__actions {
		display: flex;
		justify-content: end;
		gap: 12px;
	}

	&__icon-button {
		padding-inline: 0;
		background-color: var(--main-bg-color);
		block-size: 100%;
		border: none;
	}

	&__like-button {
		padding: 12px 37px;
		background-color: var(--main-bg-color);
	}
}

.image-block {
	position: relative;

	&__img {
		display: block;
		width: 100%;
	}

	&__label {
		position: absolute;
		opacity: .5;

		font-family: var(--accent-font), serif;
		font-size: 14px;
		line-height: 14px;

		text-shadow:
			-1px 0 var(--main-bg-color), 
			0 1px var(--main-bg-color), 
			1px 0 var(--main-bg-color), 
			0 -1px var(--main-bg-color);
		inset-inline-end: 25px;
		inset-block-start: 25px;

		@supports((text-stroke: 1px currentColor) or (-webkit-text-stroke: 1px currentColor)) {
			& {
				text-shadow: none;
				-webkit-text-stroke: 1px var(--main-bg-color);
				text-stroke: 1px var(--main-bg-color);
			}
		} 
	}
}

.footer {

	&__btn {
		padding: 15px 21px;
		background-color: var(--main-bg-color);
	}
}

.dialog{
	--offset: 30px;
	// scrollbar-gutter: stable;

	position: fixed;
	inset: 0;
	transition: opacity $animation-duration ease-in-out;
	max-inline-size: 357px;
	inline-size: auto;
	min-inline-size: 341px;
	padding: var(--offset);
	color: var(--main-color);
	text-transform: uppercase;

	@include block-base-styles;

	&:not([open]) {
		opacity: 0;
		pointer-events: none;
	  }

	&::backdrop {
		background-color: #000;
		opacity: .75;
	}

	&__content {
		display: flex;
		flex-wrap: nowrap;
		justify-content: space-between;
		align-items: center;
		gap: 20px;
		margin-block-end: var(--offset);
	}

	&__btn {
		width: 100%;
		padding-block: 12px;
		text-transform: uppercase;
	}

	&__text {
		font-size: 14px;
		font-weight: var(--base-font-weight);
		line-height: 21px;
	}

	&__icon {
		inline-size: 39px;
    	block-size: 39px;
		flex-shrink: 0;
		fill: currentColor;

	}
}

/* ------------------ COMMIN STYLES ----------------------  */

.accent-font {
	font-family: var(--accent-font), serif;
}

// .bolder-font-weight {
// 	font-weight: var(--base-font-weight);
// }

.main-heading {
	margin-block-end: 20px;
	font-family: inherit;
	font-weight: inherit;
	font-size: clamp(2.722rem, 4.923vw + 1.697rem, 3.611rem);
	line-height: 1;
}

.secondary-heading {
	margin-block-end: 25px;
	font-family: inherit;
	font-weight: inherit;
	font-size: clamp(0.778rem, 2.769vw + 0.201rem, 1.278rem);
	line-height: 1;
}

.btn {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 8px;
	border: var(--border);
	
	font-family: var(--accent-font), serif;
	font-size: 14px;
	line-height: 13px;

	background-color: var(--main-bg-color);
	@include button-base-styles;

	&:focus-visible {
		box-shadow: 2px 2px var(--main-color);
	}

	&__title {
		transition: scale var(--transition-value), color var(--transition-value);
	}

	&__icon {
		inline-size: 21px;
    	block-size: 21px;
		fill: currentColor;
	}
}

.like-icon {
	inline-size: 39px;
	block-size: 36px;

	&:focus-visible {
		border: var(--border);
	}

	& .core {
		fill: transparent;
		@include like-animation (.03s);
	}

	&:hover .core {
		fill: currentColor;
		transition-delay: 0s;
	}

	&:active .core {
		fill: var(--heart-color);
		transition-delay: 0s;
	}

	& .main-body {
		fill: transparent;
		@include like-animation;
	}

	&:hover .main-body {
		fill: currentColor;
		transition-delay: .05s;
	}

	&:active .main-body {
		fill: var(--heart-color);
		transition-delay: .05s;
	}

	.sparks {
		opacity: 0;
	}

	.contour {
		transition-duration: .1s;
	}

	&.is-liked {
		.contour {
			fill: var(--heart-color);
			@include like-animation (.06s);
		}

		.main-body,
		.core {
			fill: var(--heart-color);
		}

		.heart {
			transform-origin: center;
			animation: scale-heart $animation-duration 0.1s ;
			animation-timing-function: ease-in;
		}

		.sparks {
			transform-origin: center;
			animation: sparks $animation-duration $animation-duration;
			animation-timing-function: ease-in;
		}
	}
	
}